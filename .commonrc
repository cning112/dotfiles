# --------------------------------------------------------
# Aliases
# --------------------------------------------------------
alias l="ls" # List files in current directory
alias ll="ls -al" # List all files in current directory in long list format
alias o="open ." # Open the current directory in Finder
alias vi="nvim"
alias kubectl="minikube kubectl --"

# --------------------------------------------------------
# Git Aliases
# --------------------------------------------------------
alias gaa='git add .'
alias gcm='git commit -m'
alias gpsh='git push'
alias gss='git status -s'
alias gs='echo ""; echo "*********************************************"; echo -e "   DO NOT FORGET TO PULL BEFORE COMMITTING"; echo "*********************************************"; echo ""; git status'


# --------------------------------------------------------
# Functions
# --------------------------------------------------------


# --------------------------------------------------------
# Load other configuration files
# --------------------------------------------------------
if [ -s "$HOME/.path" ]; then source $HOME/.path; fi
if [ -s "$HOME/.aliases" ]; then source $HOME/.aliases; fi
if [ -s "$HOME/.functions" ]; then source $HOME/.functions; fi


# --------------------------------------------------------
# Tools & Softwares
# --------------------------------------------------------
# NVM
if [ -s "$HOME/.nvm/nvm.sh" ]; then
    export NVM_DIR="$HOME/.nvm"
    [ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh"
    [ -s "$NVM_DIR/bash_completion" ] && . "$NVM_DIR/bash_completion"
fi

# Miniconda3
# >>> conda initialize >>>
export CONDA_PATH="$HOME/miniconda3"
# !! Contents within this block are managed by 'conda init' !!
__conda_setup="$('$CONDA_PATH/bin/conda' 'shell.zsh' 'hook' 2> /dev/null)"
if [ $? -eq 0 ]; then
    eval "$__conda_setup"
else
    if [ -f "$CONDA_PATH/etc/profile.d/conda.sh" ]; then
        . "$CONDA_PATH/etc/profile.d/conda.sh"
    else
        export PATH="$CONDA_PATH/bin:$PATH"
    fi
fi
unset __conda_setup
# <<< conda initialize <<<

# zoxide
if command -v zoxide &> /dev/null; then
    if [ -n "$ZSH_VERSION" ]; then
        eval "$(zoxide init zsh)"
    elif [ -n "$BASH_VERSION" ]; then
        eval "$(zoxide init bash)"
    fi
fi

# Rust & Cargo
if [ -s "$HOME/.cargo/env" ]; then
    source "$HOME/.cargo/env"
fi


# --------------------------------------------------------
# PATH
# --------------------------------------------------------
export PATH="$HOME/bin:$PATH"
export PATH="$HOME/.local/bin:$PATH"

CONDA_PATH="$HOME/miniconda3"
if [ -d "$CONDA_PATH" ]; then
    export PATH="$CONDA_PATH/bin:$PATH"
fi

export PATH="/usr/local/texlive/2024/bin/universal-darwin:$PATH"

# Deduplicate $PATH
export PATH="$(echo "$PATH" | /usr/bin/awk 'BEGIN { RS=":"; } { sub(sprintf("%c$", 10), ""); if (A[$0]) {} else { A[$0]=1; printf(((NR==1) ?"" : ":") $0) }}')"
