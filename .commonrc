# --------------------------------------------------------
# Load other configuration files
# --------------------------------------------------------
if [ -s "$HOME/.tools" ]; then source $HOME/.tools; fi
if [ -s "$HOME/.aliases" ]; then source $HOME/.aliases; fi
if [ -s "$HOME/.functions" ]; then source $HOME/.functions; fi


# --------------------------------------------------------
# More ENV
# --------------------------------------------------------
export PATH="$HOME/bin:$PATH"
export PATH="$HOME/.local/bin:$PATH"

# LLVM
export PATH="/opt/homebrew/opt/llvm/bin:$PATH"
export LDFLAGS="-L/opt/homebrew/opt/llvm/lib"
export CPPFLAGS="-I/opt/homebrew/opt/llvm/include"

# WASM
export CC_wasm32_unknown_unknown="/opt/homebrew/opt/llvm/bin/clang"
export AR_wasm32_unknown_unknown="/opt/homebrew/opt/llvm/bin/llvm-ar"
export CFLAGS_wasm32_unknown_unknown="--target=wasm32-unknown-unknown"


# Deduplicate $PATH
export PATH="$(echo "$PATH" | /usr/bin/awk 'BEGIN { RS=":"; } { sub(sprintf("%c$", 10), ""); if (A[$0]) {} else { A[$0]=1; printf(((NR==1) ?"" : ":") $0) }}')"
